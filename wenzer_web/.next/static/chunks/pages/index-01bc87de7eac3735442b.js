(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{833:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(5893),i=t(7261),o=t(1120),a=t(7623);function s(){var e=(0,i.Z)(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100vh;\n\n  img {\n    margin: 10px;\n    width: 100px;\n  }\n"]);return s=function(){return e},e}var c=t(9163).ZP.div(s()),u=((0,o.Z)((function(e){return(0,a.Z)({root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}})})),t(5477));var l=function(){return(0,r.jsxs)(c,{children:[(0,r.jsx)("img",{src:"/Logo_wenzer.png",alt:"wenzer"}),(0,r.jsx)(u.Z,{})]})}},3895:function(e,n,t){"use strict";t.d(n,{HD:function(){return f},FR:function(){return g},aC:function(){return x}});var r=t(5893),i=t(809),o=t.n(i),a=t(2447),s=t(7294),c=t(1163),u=t(6808),l=t.n(u),d=t(3434),h=t(833),p=(0,s.createContext)({});function f(e){var n=e.children,t=(0,s.useState)(!1),i=t[0],u=t[1],h=(0,s.useState)(!1),f=h[0],g=h[1],x=(0,c.useRouter)();function m(){return(m=(0,a.Z)(o().mark((function e(n,t){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.post("api/login",{email:n,password:t});case 3:r=e.sent,(i=r.data)&&(console.log("Got WzrToken"),l().set("WenzerToken",i,{expires:60}),d.Z.defaults.headers.Authorization="Bearer ".concat(i.token),x.push("/")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("E-mail ou senha incorreta!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=l().get("WenzerToken"))?(g(!0),console.log("Is authenticated!"),d.Z.defaults.headers.Authorization="Bearer ".concat(n),x.push("/")):x.push("/welcome"),u(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u(!0),function(){e.apply(this,arguments)}()}),[]),(0,r.jsx)(p.Provider,{value:{isAuthenticated:f,Login:function(e,n){return m.apply(this,arguments)},isLoading:i,Logout:function(){x.push("/welcome"),l().remove("WenzerToken"),delete d.Z.defaults.headers.Authorization},Authentication:function(){g(!f)}},children:n})}var g=function(e){var n=e.children;return x().isLoading?(0,r.jsx)(h.Z,{}):n},x=function(){return(0,s.useContext)(p)}},9540:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var r=t(5893),i=t(7294),o=t(9008),a=t(1120),s=(0,a.Z)((function(e){return{feed:{background:e.palette.background.default,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",width:"100vw",overflow:"hidden"}}})),c=t(3895);var u=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Bem vindo ao feed do Wenzer!"}),(0,r.jsx)("img",{src:"/bg_emdesenv.svg",alt:"Em desenvolvimento"})]})},l=t(1664),d=t(5258),h=t(8358),p=t(6780),f=t(6479),g=t(7748),x=t(4741),m=t(7812),v=t(5434),j=t(6265),Z=t(9693),w=(0,a.Z)((function(e){return{container:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0 4rem"},title:{display:"flex",alignItems:"center",justifyContent:"center"},sectionDesktop:(0,j.Z)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),button:{marginLeft:e.spacing(2)},search:(0,j.Z)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,Z.U1)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,Z.U1)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:(0,j.Z)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),menuItem:{color:e.palette.secondary.dark,fontWeight:600}}}));var k=function(){var e=(0,i.useState)(null),n=e[0],t=e[1],o=(0,c.aC)().Logout,a=w(),s=Boolean(n),u=function(){t(null)},j=(0,r.jsxs)(p.Z,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:u,children:[(0,r.jsx)(f.Z,{className:a.menuItem,onClick:u,children:"Perfil"}),(0,r.jsx)(f.Z,{className:a.menuItem,onClick:u,children:"Configura\xe7\xf5es"}),(0,r.jsx)(f.Z,{className:a.menuItem,onClick:function(){o()},children:"Sair"})]});return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{position:"fixed",color:"secondary",children:(0,r.jsxs)(h.Z,{className:a.container,children:[(0,r.jsxs)(g.Z,{className:a.title,children:[(0,r.jsx)(l.default,{href:"/",children:(0,r.jsx)("img",{src:"/Logo_wenzer.png",alt:"Logo",style:{width:"50px"}})}),(0,r.jsxs)("div",{className:a.search,children:[(0,r.jsx)("div",{className:a.searchIcon,children:(0,r.jsx)(v.vU7,{})}),(0,r.jsx)(x.Z,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}})]})]}),(0,r.jsxs)(g.Z,{children:[(0,r.jsx)(m.Z,{color:"inherit",children:(0,r.jsx)(v.bH4,{size:30})}),(0,r.jsx)(m.Z,{color:"inherit",children:(0,r.jsx)(v.fBT,{size:30})}),(0,r.jsx)(m.Z,{color:"inherit",children:(0,r.jsx)(v._YV,{size:30})}),(0,r.jsx)(m.Z,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",onClick:function(e){t(e.currentTarget)},color:"inherit",children:(0,r.jsx)(v.LZO,{size:30})})]})]})}),j]})};var y=function(e){var n=e.children;return(0,r.jsxs)("div",{children:[(0,r.jsx)(k,{}),n]})},b=t(9895),C=t(1163);function z(){var e=s();(0,C.useRouter)(),(0,c.aC)().isAuthenticated;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{children:(0,r.jsx)("title",{children:"Wenzer"})}),(0,r.jsx)(y,{children:(0,r.jsx)(b.Z,{className:e.feed,children:(0,r.jsx)(u,{})})})]})}},3434:function(e,n,t){"use strict";var r=t(9669),i=t.n(r)().create({baseURL:"http://localhost:3333/",headers:{Accept:"application/json","Content-Type":"application/json"}});n.Z=i},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9540)}])}},function(e){e.O(0,[774,228,351,82,893,597,329],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);