(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{368:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var r=t(5893),i=t(1120),a=(0,i.Z)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",width:"100vw",overflow:"hidden"}}})),s=(t(7294),t(1664)),o=t(5258),c=t(8358),l=t(7748),u=t(282),p=t(6265),d=(0,i.Z)((function(e){return{container:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0 4rem"},title:{display:"flex",alignItems:"center",justifyContent:"center"},sectionDesktop:(0,p.Z)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),button:{marginLeft:e.spacing(2)}}}));var f=function(){var e=d();return(0,r.jsx)("div",{children:(0,r.jsx)(o.Z,{position:"fixed",color:"secondary",children:(0,r.jsxs)(c.Z,{className:e.container,children:[(0,r.jsxs)(l.Z,{className:e.title,children:[(0,r.jsx)(s.default,{href:"/",children:(0,r.jsx)("img",{src:"/Logo_wenzer.png",alt:"Logo",style:{width:"50px",marginRight:"10px"}})}),(0,r.jsx)("h2",{children:"Wenzer"})]}),(0,r.jsxs)(l.Z,{className:e.sectionDesktop,children:[(0,r.jsx)(s.default,{href:"/welcome",children:(0,r.jsx)(u.Z,{className:e.button,type:"button",variant:"outlined",color:"primary",children:"Entrar"})}),(0,r.jsx)(s.default,{href:"register",children:(0,r.jsx)(u.Z,{className:e.button,type:"button",variant:"contained",color:"primary",children:"Cadastre-se"})})]})]})})})};function h(e){var n=e.children,t=a();return(0,r.jsxs)("div",{className:t.root,children:[(0,r.jsx)(f,{}),n]})}},833:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(5893),i=t(7261),a=t(1120),s=t(7623);function o(){var e=(0,i.Z)(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100vh;\n\n  img {\n    margin: 10px;\n    width: 100px;\n  }\n"]);return o=function(){return e},e}var c=t(9163).ZP.div(o()),l=((0,a.Z)((function(e){return(0,s.Z)({root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}})})),t(5477));var u=function(){return(0,r.jsxs)(c,{children:[(0,r.jsx)("img",{src:"/Logo_wenzer.png",alt:"wenzer"}),(0,r.jsx)(l.Z,{})]})}},7439:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(6265),i=t(5893),a=(t(7294),t(1120)),s=t(6912),o=t(1690),c=t(2285);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=(0,a.Z)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},marginTop:"50px"}}}));var d=function(e){var n=e.type,t=e.message,r=e.isVisible,a=e.closeSnackbar,l=p();return(0,i.jsx)(s.Z,{anchorOrigin:{vertical:"top",horizontal:"right"},className:l.root,open:r,onClose:a,autoHideDuration:3500,TransitionComponent:function(e){return(0,i.jsx)(c.Z,u(u({},e),{},{direction:"left"}))},children:(0,i.jsx)(o.Z,{severity:n,onClose:a,children:t})})}},3895:function(e,n,t){"use strict";t.d(n,{HD:function(){return h},FR:function(){return x},aC:function(){return m}});var r=t(5893),i=t(809),a=t.n(i),s=t(2447),o=t(7294),c=t(1163),l=t(6808),u=t.n(l),p=t(3434),d=t(833),f=(0,o.createContext)({});function h(e){var n=e.children,t=(0,o.useState)(!1),i=t[0],l=t[1],d=(0,o.useState)(!1),h=d[0],x=d[1],m=(0,c.useRouter)();function g(){return(g=(0,s.Z)(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.post("api/login",{email:n,password:t});case 3:r=e.sent,(i=r.data)&&(console.log("Got WzrToken"),u().set("WenzerToken",i,{expires:60}),p.Z.defaults.headers.Authorization="Bearer ".concat(i.token),m.push("/")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("E-mail ou senha incorreta!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,s.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=u().get("WenzerToken"))?(x(!0),console.log("Is authenticated!"),p.Z.defaults.headers.Authorization="Bearer ".concat(n),m.push("/")):m.push("/welcome"),l(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l(!0),function(){e.apply(this,arguments)}()}),[]),(0,r.jsx)(f.Provider,{value:{isAuthenticated:h,Login:function(e,n){return g.apply(this,arguments)},isLoading:i,Logout:function(){m.push("/welcome"),u().remove("WenzerToken"),delete p.Z.defaults.headers.Authorization},Authentication:function(){x(!h)}},children:n})}var x=function(e){var n=e.children;return m().isLoading?(0,r.jsx)(d.Z,{}):n},m=function(){return(0,o.useContext)(f)}},8822:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var r=t(5893),i=t(809),a=t.n(i),s=t(2447),o=t(7294),c=t(6808),l=t.n(c),u=(0,t(1120).Z)((function(e){return{initialScreen:{background:e.palette.background.default,display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh",overflow:"hidden"},container:{width:"min(90vw, 1300px)",height:"100vh",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},containerTitle:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},image:{marginTop:"50px",objectFit:"cover",width:"600px"},formLogin:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"450px",height:"500px",borderRadius:"7px",background:e.palette.text.primary,color:e.palette.secondary.main},margin:{margin:e.spacing(1)},textField:{width:"40ch"},button:{margin:"40px 0",padding:"10px 130px",display:"flex"},loginText:{marginBottom:"50px"},circularProgrss:{display:"flex",width:"20px","& > * + *":{marginLeft:e.spacing(1)}}}})),p=t(3434),d=t(1664),f=t(3895),h=t(5434),x=t(368),m=t(1163),g=t(9895),v=t(7748),j=t(6445),y=t(4094),Z=t(9446),w=t(3408),b=t(7812),k=t(282),C=t(5477),N=t(7439),O=t(6010);function S(e){var n=e.token,t=(0,o.useState)(""),i=t[0],c=t[1],S=(0,o.useState)(""),z=S[0],E=S[1],T=(0,o.useState)(!1),D=T[0],L=T[1],P=(0,o.useState)(null),A=P[0],I=P[1],q=(0,o.useState)(!1),F=q[0],V=q[1],R=u(),_=(0,m.useRouter)(),W=(0,f.aC)().Authentication;function B(){return(B=(0,s.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),V(!0),t={email:i,password:z},e.next=5,p.Z.post("api/login",t).then((function(e){var n=e.data;l().set("WenzerToken",n,{expires:60}),p.Z.defaults.headers.Authorization="Bearer ".concat(n.token),W(),V(!1),_.push("/")})).catch((function(e){V(!1),I({isVisible:!0,message:"E-mail ou senha incorretos!",type:"error"})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((function(){!function(){var e=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,p.Z.get("api/verifica-email/".concat(n)).then((function(){I({isVisible:!0,message:"Seu e-mail foi verificado com sucesso!",type:"success"})})).catch((function(){I({isVisible:!0,message:"Verifique seu email para valida\xe7\xe3o!",type:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);return(0,r.jsx)(x.Z,{children:(0,r.jsxs)(g.Z,{className:R.initialScreen,elevation:20,children:[(0,r.jsxs)(v.Z,{className:R.container,children:[(0,r.jsxs)(v.Z,{className:R.containerTitle,children:[(0,r.jsx)("h1",{children:"Compartilhe experi\xeancia, ideias e projetos!"}),(0,r.jsx)("p",{children:"Encontre pessoas, monte sua equipe e desenvolva suas ideias"}),(0,r.jsx)("img",{className:R.image,src:"/bg_login.svg",alt:"login screen"})]}),(0,r.jsxs)("form",{className:R.formLogin,onSubmit:function(e){return B.apply(this,arguments)},children:[(0,r.jsx)("h1",{className:R.loginText,children:"Fa\xe7a login"}),(0,r.jsxs)(j.Z,{className:(0,O.Z)(R.margin,R.textField),variant:"filled",children:[(0,r.jsx)(y.Z,{htmlFor:"filled-adornment-password",children:"E-mail"}),(0,r.jsx)(Z.Z,{id:"filled-adornment-password",type:"email",required:!0,style:{color:"#222"},onChange:function(e){return c(e.target.value)}})]}),(0,r.jsxs)(j.Z,{className:(0,O.Z)(R.margin,R.textField),variant:"filled",children:[(0,r.jsx)(y.Z,{htmlFor:"filled-adornment-password",children:"Senha"}),(0,r.jsx)(Z.Z,{id:"filled-adornment-password",type:D?"text":"password",required:!0,style:{color:"#222"},onChange:function(e){return E(e.target.value)},endAdornment:(0,r.jsx)(w.Z,{position:"end",children:(0,r.jsx)(b.Z,{"aria-label":"toggle password visibility",onClick:function(){return L(!D)},edge:"end",children:D?(0,r.jsx)(h.wqE,{}):(0,r.jsx)(h.t2l,{})})})})]}),(0,r.jsx)(d.default,{href:"#",children:(0,r.jsx)("p",{style:{cursor:"pointer"},children:"Esqueceu a senha?"})}),(0,r.jsxs)(k.Z,{className:R.button,variant:"contained",color:"primary",type:"submit",children:["Entrar",F&&(0,r.jsx)(C.Z,{size:25,style:{margin:"0px 5px"},color:"inherit"})]}),(0,r.jsx)(d.default,{href:"/register",children:(0,r.jsx)("p",{style:{cursor:"pointer"},children:"Ainda nao tem uma conta? Registre-se aqui"})})]})]}),A&&(0,r.jsx)(N.Z,{isVisible:A.isVisible,message:A.message,type:A.type,closeSnackbar:function(e,n){"clickaway"!==n&&I({isVisible:!1,message:"",type:void 0})}})]})})}S.getInitialProps=function(){var e=(0,s.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query,r=t.token,e.abrupt("return",{token:r});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},3434:function(e,n,t){"use strict";var r=t(9669),i=t.n(r)().create({baseURL:"http://localhost:3333/",headers:{Accept:"application/json","Content-Type":"application/json"}});n.Z=i}}]);